# Repository Guidelines

## Структура проекта и модули
- Храните исходники в src/ с группировкой по доменам (src/<feature>/), общие утилиты в src/shared/.
- Тесты кладите в 	ests/, повторяя структуру кода; фикстуры и мок-данные — в 	ests/fixtures/.
- Служебные утилиты держите в scripts/, документацию — в docs/, готовые примеры — в examples/.
- Точки входа: библиотеки экспортируют src/index.(ts|js), CLI — src/cli.(ts|js), сервисы — src/app.ts.

## Сборка, тесты и локальная разработка
- 
pm install (или pnpm install/yarn) устанавливает зависимости; фиксируйте lock-файл в репозитории.
- 
pm run build собирает артефакты в dist/; настройте таргет под текущий стек.
- 
pm test запускает модульные/интеграционные тесты; 
pm run test:watch — быстрый цикл разработки.
- 
pm run lint и 
pm run format закрывают статический анализ и автоформатирование; PR не должен падать на этих шагах.

## Стиль кодирования и соглашения о именах
- Предпочитайте TypeScript и ES-модули; импортируйте через import/export.
- Отступ 2 пробела для JS/TS/JSON/YAML, перевод строки в конце файла, без лишних пробелов.
- Используйте Prettier + ESLint из корня; перед коммитом запускайте 
pm run lint -- --fix.
- Имена: файлы — kebab-case, компоненты — PascalCase, переменные — camelCase, константы — SCREAMING_SNAKE_CASE.
- Дробите функции до ~50 строк; избегайте default-экспорта, кроме точек входа.

## Правила тестирования
- Формат тестов: Vitest/Jest-подход, файлы *.test.ts или *.spec.ts рядом с кодом или в 	ests/.
- Цель — покрытие >80% по строкам, с учётом негативных сценариев и обработок ошибок.
- Делайте тесты детерминированными: выносите I/O в адаптеры, используйте фейки; тестовые данные храните в 	ests/fixtures/.

## Коммиты и Pull Request
- Соблюдайте Conventional Commits (eat: ..., ix: ..., chore: ...); формулировки в повелительном наклонении.
- Коммиты должны быть узкими по объёму; не смешивайте рефакторинг с функциональными изменениями.
- PR содержит: краткое описание поведения, список прогнанных команд, ссылку на задачу, скриншоты/логи при UI/CLI изменениях.
- Запрашивайте ревью только после успешных lint/test; повторно запускайте после ребейза или решения конфликтов.

## Безопасность и конфигурация
- Не коммитьте секреты; используйте переменные окружения и образец .env.example с описанием ключей.
- Фиксируйте сетевые зависимости: документируйте исходящие эндпоинты в docs/.
- Периодически проверяйте зависимости (
pm audit), обновляйте версии через lock-файл.

## Язык и процессы
- Все новые и обновляемые файлы документации пишите на русском языке; отклоняйте изменения на других языках.
- При изменениях package.json синхронизируйте инструкции в README.md (скрипты, зависимости, версии).
- Агенты не выполняют git commit и git push; финальные операции делает ответственный разработчик.
